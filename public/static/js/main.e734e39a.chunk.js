(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(2),l=a.n(s),c=(a(13),a(5)),o=a(3),i=a(4),d=a(6),m=a(7),h=(a(14),window.io()),u=function(e,t){return e.score>t.score?-1:e.score<t.score?1:0};function p(e){var t=e.scoreboard,a=e.lastPlayer;return n.a.createElement("div",{className:"scoreboard"},n.a.createElement("div",{className:"title"},"Scoreboard"),t.sort(u).map((function(e){return n.a.createElement("div",{className:e.name===a?"lastPlayer":""},e.score," - ",e.name)})))}var y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),console.log(h),(r=t.call(this,e)).state={players:[],cards:[],blackCard:null,playerType:"WHITE",gameState:"LOBBY",selectedWhiteCard:null,proposedWhiteCards:[],lockedCard:!1,blackPlayer:"",scoreboard:[],joinedGame:!1,playerName:null,lastPlayer:null},h.on("new player",(function(e){r.setState((function(t){var a=t.players;return{players:[].concat(Object(c.a)(a),[e])}}))})),h.on("game start",(function(){r.setState({gameState:"PLAYING"})})),h.on("new cards",(function(e){r.setState({cards:e})})),h.on("player black",(function(){r.setState({playerType:"BLACK"})})),h.on("player white",(function(){r.setState({playerType:"WHITE"})})),h.on("black card",(function(e){r.setState({blackCard:e})})),h.on("player disconnect",(function(e){e.name;var t=e.id;r.setState((function(e){return{players:e.players.filter((function(e){return e.id!==t}))}}))})),h.on("proposed white cards",(function(e){r.setState({proposedWhiteCards:e})})),h.on("scoreboard",(function(e){r.setState({scoreboard:e})})),h.on("game end",(function(){r.setState({cards:[],blackCard:null,playerType:"WHITE",gameState:"LOBBY",selectedWhiteCard:null,proposedWhiteCards:[],lockedCard:!1,blackPlayer:""})})),h.on("another player black",(function(e){r.setState({blackPlayer:e})})),h.on("chosen white card",(function(e){e.text;var t=e.player,a=(t.id,t.name);r.setState({selectedWhiteCard:null,proposedWhiteCards:[],lockedCard:!1,lastPlayer:a})})),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return"LOBBY"!==this.state.gameState&&this.state.joinedGame?"PLAYING"===this.state.gameState?"WHITE"===this.state.playerType?n.a.createElement("div",{className:"main"},n.a.createElement(p,{scoreboard:this.state.scoreboard,lastPlayer:this.state.lastPlayer}),n.a.createElement("div",{className:"blackCard",dangerouslySetInnerHTML:{__html:this.state.blackCard?this.state.selectedWhiteCard?this.state.blackCard.text.replace("_",this.state.selectedWhiteCard):this.state.blackCard.text:""}}),n.a.createElement("div",{className:"tip"},this.state.lockedCard?"Wait for others to choose":"Choose the funniest card for "+this.state.blackPlayer),n.a.createElement("div",{className:"whiteCards"},this.state.cards.map((function(t){return n.a.createElement("div",{className:e.state.selectedWhiteCard===t?"whiteCard selected":"whiteCard",onClick:function(){e.state.lockedCard||(e.setState({lockedCard:!0,selectedWhiteCard:t}),h.emit("submit white card",t))},dangerouslySetInnerHTML:{__html:t}})})))):n.a.createElement("div",{className:"main"},n.a.createElement(p,{scoreboard:this.state.scoreboard,lastPlayer:this.state.lastPlayer}),n.a.createElement("div",{className:"blackCard",dangerouslySetInnerHTML:{__html:this.state.blackCard?this.state.blackCard.text:""}}),n.a.createElement("div",{className:"tip"},0===this.state.proposedWhiteCards.length?"Wait for the other players to choose a card":"Choose the funniest card"),n.a.createElement("div",{className:"whiteCards"},this.state.proposedWhiteCards.map((function(e){return n.a.createElement("div",{onClick:function(){return h.emit("choose white card",e.id)},className:"whiteCard",dangerouslySetInnerHTML:{__html:e.text}})})))):n.a.createElement("div",null,"Something went wrong, ups"):n.a.createElement("div",{className:"main lobby"},0!==this.state.scoreboard.length?n.a.createElement(p,{scoreboard:this.state.scoreboard,lastPlayer:this.state.lastPlayer}):"",n.a.createElement("div",{className:"header"},"Cards Against Humanity"),n.a.createElement("div",{id:"lobbyPlayerList"},n.a.createElement("div",{className:"title"},"Connected players"),this.state.players.map((function(e){return n.a.createElement("div",{className:"player"},e.name)})),this.state.joinedGame?n.a.createElement("button",{onClick:function(){h.emit("start game")},id:"start-game",disabled:this.state.players.length<3},"START GAME"):n.a.createElement("div",null,n.a.createElement("input",{placeholder:"username",value:this.state.playerName,onChange:function(t){return e.setState({playerName:t.target.value})}})," ",n.a.createElement("button",{onClick:function(){e.setState({joinedGame:!0}),h.emit("join game",e.state.playerName)},disabled:!this.state.playerName},"JOIN GAME"))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.e734e39a.chunk.js.map