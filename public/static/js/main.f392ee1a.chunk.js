(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r,n=a(0),s=a.n(n),l=a(2),o=a.n(l),c=(a(13),a(5)),i=a(3),d=a(4),m=a(6),h=a(7);a(14);r="localhost"===window.location.hostname?window.io("localhost:5000"):window.io();var u=function(e,t){return e.score>t.score?-1:e.score<t.score?1:0};function p(e){var t=e.scoreboard,a=e.lastPlayer;return s.a.createElement("div",{className:"scoreboard"},s.a.createElement("div",{className:"title"},"Scoreboard"),t.sort(u).map((function(e){return s.a.createElement("div",{className:e.name===a?"lastPlayer":""},e.score," - ",e.name)})))}var y=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),console.log(r),(n=t.call(this,e)).state={players:[],cards:[],blackCard:null,playerType:"WHITE",gameState:"LOBBY",selectedWhiteCard:null,proposedWhiteCards:[],lockedCard:!1,blackPlayer:"",scoreboard:[],joinedGame:!1,playerName:"",lastPlayer:null},r.on("new player",(function(e){n.setState((function(t){var a=t.players;return{players:[].concat(Object(c.a)(a),[e])}}))})),r.on("game start",(function(){n.setState({gameState:"PLAYING"})})),r.on("new cards",(function(e){n.setState({cards:e})})),r.on("player black",(function(){n.setState({playerType:"BLACK"})})),r.on("player white",(function(){n.setState({playerType:"WHITE"})})),r.on("black card",(function(e){n.setState({blackCard:e})})),r.on("player disconnect",(function(e){e.name;var t=e.id;n.setState((function(e){return{players:e.players.filter((function(e){return e.id!==t}))}}))})),r.on("proposed white cards",(function(e){n.setState({proposedWhiteCards:e})})),r.on("scoreboard",(function(e){n.setState({scoreboard:e})})),r.on("game end",(function(){n.setState({cards:[],blackCard:null,playerType:"WHITE",gameState:"LOBBY",selectedWhiteCard:null,proposedWhiteCards:[],lockedCard:!1,blackPlayer:""})})),r.on("another player black",(function(e){n.setState({blackPlayer:e})})),r.on("chosen white card",(function(e){e.text;var t=e.player,a=(t.id,t.name);n.setState({selectedWhiteCard:null,proposedWhiteCards:[],lockedCard:!1,lastPlayer:a})})),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return"LOBBY"!==this.state.gameState&&this.state.joinedGame?"PLAYING"===this.state.gameState?"WHITE"===this.state.playerType?s.a.createElement("div",{className:"main"},s.a.createElement(p,{scoreboard:this.state.scoreboard,lastPlayer:this.state.lastPlayer}),s.a.createElement("div",{className:"blackCard",dangerouslySetInnerHTML:{__html:this.state.blackCard?this.state.selectedWhiteCard?this.state.blackCard.text.replace("_",this.state.selectedWhiteCard):this.state.blackCard.text:""}}),s.a.createElement("div",{className:"tip"},this.state.lockedCard?"Wait for others to choose":"Choose the funniest card for "+this.state.blackPlayer),s.a.createElement("div",{className:"whiteCards"},this.state.cards.map((function(t){return s.a.createElement("div",{className:e.state.selectedWhiteCard===t?"whiteCard selected":"whiteCard",onClick:function(){e.state.lockedCard||(e.setState({lockedCard:!0,selectedWhiteCard:t}),r.emit("submit white card",t))},dangerouslySetInnerHTML:{__html:t}})})))):s.a.createElement("div",{className:"main"},s.a.createElement(p,{scoreboard:this.state.scoreboard,lastPlayer:this.state.lastPlayer}),s.a.createElement("div",{className:"blackCard",dangerouslySetInnerHTML:{__html:this.state.blackCard?this.state.blackCard.text:""}}),s.a.createElement("div",{className:"tip"},0===this.state.proposedWhiteCards.length?"Wait for the other players to choose a card":"Choose the funniest card"),s.a.createElement("div",{className:"whiteCards"},this.state.proposedWhiteCards.map((function(e){return s.a.createElement("div",{onClick:function(){return r.emit("choose white card",e.id)},className:"whiteCard",dangerouslySetInnerHTML:{__html:e.text}})})))):s.a.createElement("div",null,"Something went wrong, ups"):s.a.createElement("div",{className:"main lobby"},0!==this.state.scoreboard.length?s.a.createElement(p,{scoreboard:this.state.scoreboard,lastPlayer:this.state.lastPlayer}):"",s.a.createElement("div",{className:"header"},"Cards Against Humanity"),s.a.createElement("div",{id:"lobbyPlayerList"},s.a.createElement("div",{className:"title"},"Connected players"),s.a.createElement("div",{className:"connectedPlayers"},this.state.players.map((function(e){return s.a.createElement("div",{className:"player"},e.name)}))),this.state.joinedGame?s.a.createElement("button",{onClick:function(){r.emit("start game")},id:"start-game",disabled:this.state.players.length<3},"START GAME"):s.a.createElement("div",null,s.a.createElement("input",{placeholder:"username",value:this.state.playerName,onChange:function(t){return e.setState({playerName:t.target.value})}})," ",s.a.createElement("button",{onClick:function(){e.setState({joinedGame:!0}),r.emit("join game",e.state.playerName)},disabled:!this.state.playerName},"JOIN GAME"))))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.f392ee1a.chunk.js.map